# [인구이동](https://www.acmicpc.net/problem/16234)

    1. L <= 인구 차이 <= R  : 국경선 개방  
	2. 모든 국경선 개방 시 인구 이동 시작  
	3. ( 연합의 인구수 ) / ( 연합을 이루고 있는 칸의 개수 )  
	4. 모든 국경선 닫음 
	5. !! 인접한 국가만이 연합이 될 수 있다. !! 

아래의 코드는 아슬아슬하게 통과한 코드입니다.

```c++
#include <iostream>
#include <queue>
#include <vector>
#include <algorithm>
#include <string.h>
#define MAXN 51

using namespace std;

struct POS {
	int r, c, val;
};

int minValue, maxValue;
int map[MAXN][MAXN];
bool visitMap[MAXN][MAXN] = { false, };
int N;
int dr[] = { -1,0,1,0 }, dc[] = { 0,1,0,-1 };

vector<POS> updateList;

void cal(int r, int c) {
	bool chMap[MAXN][MAXN] = { false, };
	queue<POS> que;
	vector<POS> sumlist;

	POS cur;
	int nr, nc, temp, sum = 0, count = 0;

	que.push({ r,c });
	chMap[r][c] = true;
	sum = map[r][c];
	count = 1;
	sumlist.push_back({ r,c });

	while (!que.empty()) {
		cur = que.front();
		que.pop();

		for (int i = 0; i < 4; i++) {
			nr = cur.r + dr[i];
			nc = cur.c + dc[i];

			if (!(nr >= 0 && nc >= 0 && nr < N && nc < N)) continue;

			temp = abs(map[cur.r][cur.c] - map[nr][nc]);
			if (chMap[nr][nc]) continue;
			if (!(temp >= minValue && temp <= maxValue))
				continue;

			que.push({ nr, nc });
			chMap[nr][nc] = true;
			count++;
			sum += map[nr][nc];
			sumlist.push_back({ nr, nc });
		}
	}

	if (sumlist.size() > 1) {
		sum /= count;
		for (auto& iter : sumlist) {
			updateList.push_back({ iter.r, iter.c, sum });
			visitMap[iter.r][iter.c] = true;
		}
	}
}

int solve() {
	int T = 0;

	while (1) {
		for (int r = 0; r < N; r++) {
			for (int c = 0; c < N; c++) {
				if (!visitMap[r][c])
					cal(r, c);
			}
		}

		if (updateList.size() == 0)
			return T;

		for (int i = 0; i < updateList.size(); i++) {
			map[updateList[i].r][updateList[i].c] = updateList[i].val;
			visitMap[updateList[i].r][updateList[i].c] = false;
		}

		T++;
		updateList.clear();
	}

	return T;
}

int main() {

	cin >> N;
	cin >> minValue >> maxValue;

	for (int j = 0; j < N; j++) {
		for (int i = 0; i < N; i++) {
			cin >> map[j][i];
		}
	}

	cout << solve();
	return 0;
}
```

* c++ 개선된 코드
```c++
```
