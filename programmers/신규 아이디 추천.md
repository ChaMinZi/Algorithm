# [ ì‹ ê·œ ì•„ì´ë”” ì¶”ì²œ ](https://programmers.co.kr/learn/courses/30/lessons/72410)

C++ ë³´ë‹¤ëŠ” ì½”í‹€ë¦°ìœ¼ë¡œ í‘¸ëŠ” ê²ƒì´ ë” í¸ë¦¬í•  ê²ƒ ê°™ì€ ë¬¸ì œë¼ì„œ ì½”í‹€ë¦°ìœ¼ë¡œ í’€ì´í•˜ì˜€ìŠµë‹ˆë‹¤. 

í•˜ì§€ë§Œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ë¶€ë¶„ì—ì„œ ë¬¸ì œë¥¼ ë§Œë‚¬ì—ˆìŠµë‹ˆë‹¤. IDEì—ì„œëŠ” ì½”í‹€ë¦°ì— ìˆëŠ” `(string).lastChar`ê°€ ì˜ ì‘ë™í•˜ì—¬ì„œ ê´œì°®ì•˜ìœ¼ë‚˜ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì»´íŒŒì¼ëŸ¬ì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ” ë“¯ í•˜ì˜€ìŠµë‹ˆë‹¤. 
ì–´ì°¨í”¼ `lastChar`ëŠ” ë§ˆì§€ë§‰ ì¸ìì— ì ‘ê·¼í•˜ê¸° í¸í•œ í™•ì¥ í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— `lastChar`ë¥¼ ëª¨ë‘ `answer[answer.lenght-1]`ë¡œ ì ‘ê·¼í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.

* ## ë‚´ Kotlin í’€ì´

```Kotlin
class Solution {
    fun solution(new_id: String): String {
        var answer: String = ""

        // 1. ì†Œë¬¸ìë¡œ ì¹˜í™˜
        answer = new_id.toLowerCase()
        // 2. ì•ŒíŒŒë²³ ì†Œë¬¸ì, ìˆ«ì, ë¹¼ê¸°(-), ë°‘ì¤„(_), ë§ˆì¹¨í‘œ(.) ì œê±°
        val match = "[a-z0-9\\-\\_\\.]".toRegex()
        val rematch = answer.replace(match, "")
        rematch.forEach {
            answer = answer.replace(it.toString(), "")
        }

        // 3. ë§ˆì¹¨í‘œ(.)ê°€ 2ë²ˆ ì´ìƒ ì—°ì†ëœ ë¶€ë¶„ì„ í•˜ë‚˜ì˜ ë§ˆì¹¨í‘œ(.)ë¡œ ì¹˜í™˜í•©ë‹ˆë‹¤.
        while (true) {
            answer = answer.replace("..", ".")
            if (!answer.contains(".."))
                break
        }

        // 4. ë§ˆì¹¨í‘œ(.)ê°€ ì²˜ìŒì´ë‚˜ ëì— ìœ„ì¹˜í•œë‹¤ë©´ ì œê±°í•©ë‹ˆë‹¤.
        if (answer[answer.length - 1] == '.')
            answer = answer.substring(0, answer.length-1)
        if (answer.isNotEmpty() && answer[0] == '.')
            answer = answer.substring(1)

        // 5. ë¹ˆ ë¬¸ìì—´ì´ë¼ë©´, new_idì— "a"ë¥¼ ëŒ€ì…í•©ë‹ˆë‹¤.
        if (answer.isEmpty())
            answer += "a"

        // 6. ê¸¸ì´ê°€ 16ì ì´ìƒì´ë©´, new_idì˜ ì²« 15ê°œì˜ ë¬¸ìë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¬¸ìë“¤ì„ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤.
        // ë§Œì•½ ì œê±° í›„ ë§ˆì¹¨í‘œ(.)ê°€ new_idì˜ ëì— ìœ„ì¹˜í•œë‹¤ë©´ ëì— ìœ„ì¹˜í•œ ë§ˆì¹¨í‘œ(.) ë¬¸ìë¥¼ ì œê±°í•©ë‹ˆë‹¤.
        if (answer.length > 15) {
            answer = answer.substring(0, 15)
            if (answer[answer.length - 1] == '.') answer = answer.substring(0, answer.length-1)
        }

        // 7. ê¸¸ì´ê°€ 2ì ì´í•˜ë¼ë©´, new_idì˜ ë§ˆì§€ë§‰ ë¬¸ìë¥¼ new_idì˜ ê¸¸ì´ê°€ 3ì´ ë  ë•Œê¹Œì§€ ë°˜ë³µí•´ì„œ ëì— ë¶™ì…ë‹ˆë‹¤.
        while (answer.length <= 2) {
            answer += answer[answer.length - 1]
        }

        return answer
    }
}
```

<br>

## ğŸ¤” 3ë²ˆ ì‚¬í•­ì„ ì–´ë–»ê²Œ ì •ê·œí‘œí˜„ì‹ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆì„ê¹Œ?

ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ ì½”ë“œ ì¤‘ ì•„ë˜ì˜ ì½”ë“œê°€ ê°€ì¥ ì½”í‹€ë¦°ìŠ¤ëŸ½ë‹¤ëŠ” ìƒê°ì„ í•˜ì—¬ ê°™ì´ ì²¨ë¶€í•©ë‹ˆë‹¤.

```Kotlin
class Solution {
    fun solution(newId: String) = newId.toLowerCase()
        .filter { it.isLowerCase() || it.isDigit() || it == '-' || it == '_' || it == '.' }
        .replace("[.]*[.]".toRegex(), ".")
        .removePrefix(".").removeSuffix(".")
        .let { if (it.isEmpty()) "a" else it }
        .let { if (it.length > 15) it.substring(0 until 15) else it }.removeSuffix(".")
        .let {
            if (it.length <= 2)
                StringBuilder(it).run {
                    while (length < 3) append(it.last())
                    toString()
                }
            else it }
}
```
