```c++
#include <iostream>
#include <vector>
#include <algorithm>
#include <queue>
#include <stack>
#include <deque>
#include <string>

using namespace std;

deque<long long> valSt;
queue<char> expSt;

int checkExp[3];
int expCount;

void diviedExp(string exp) {
	// 나누기
	int i = 0;
	expCount = 0;
	checkExp[0] = checkExp[1] = checkExp[2] = 0;

	while (i < exp.size()) {
		string temp = "";

		while (exp.at(i) >= '0' && exp.at(i) <= '9') {
			temp += exp.at(i);
			i++;
			if (i >= exp.size())
				break;
		}
		valSt.push_back(stoll(temp));

		if (i >= exp.size())
			break;
		else if (exp.at(i) == '+') {
			temp = exp.at(i);
			expSt.push(temp[0]);
			if (!checkExp[0]) {
				expCount++;
				checkExp[0]++;
			}
		}
		else if (exp.at(i) == '-') {
			temp = exp.at(i);
			expSt.push(temp[0]);
			if (!checkExp[1]) {
				expCount++;
				checkExp[1]++;
			}
		}
		else if (exp.at(i) == '*') {
			temp = exp.at(i);
			expSt.push(temp[0]);
			if (!checkExp[2]) {
				expCount++;
				checkExp[2]++;
			}
		}
		i++;
	}
}

long long cal(long long a, long long b, char exp) {
	long long val = 0;

	switch (exp)
	{
	case '+':
		val = a + b;
		break;
	case '-':
		val = a - b;
		break;
	case '*':
		val = a * b;
		break;
	default:
		break;
	}

	return val;
}

long long calculateExp(string orderExp, deque<long long> valSt, queue<char> expSt) {
	char targetExp, exp;
	long long val, tVal;

	deque<long long> tValSt;
	queue<char> tExpSt;

	for (int i = 0; i < orderExp.size(); i++) {
		targetExp = orderExp.at(i);

		while (valSt.size() >= 2) {
			val = valSt.front();
			valSt.pop_front();

			exp = expSt.front();
			expSt.pop();

			if (exp == targetExp) {
				tVal = valSt.front();
				valSt.pop_front();

				tVal = cal(val, tVal, exp);
				valSt.push_front(tVal);
			}
			else {
				tValSt.push_back(val);
				tExpSt.push(exp);
			}
		}

		if (valSt.size() > 0) {
			val = valSt.front();
			valSt.pop_front();
			tValSt.push_back(val);
		}

		while (tValSt.size() > 0) {
			val = tValSt.front();
			tValSt.pop_front();

			valSt.push_back(val);
		}

		while (tExpSt.size() > 0) {
			exp = tExpSt.front();
			tExpSt.pop();

			expSt.push(exp);
		}
	}

	return valSt.front();
}

long long solution(string exp) {
	long long answer = 0;
	long long ret, tempVal;

	diviedExp(exp);

	if (expCount == 1) {
		if (checkExp[0]) {
			ret = calculateExp("+", valSt, expSt);
			ret = abs(ret);
		}
		else if (checkExp[1]) {
			ret = calculateExp("-", valSt, expSt);
			ret = abs(ret);
		}
		else if (checkExp[2]) {
			ret = calculateExp("*", valSt, expSt);
			ret = abs(ret);
		}
	}
	else if (expCount == 2) {
		if (checkExp[0] && checkExp[1]) {
			ret = calculateExp("+-", valSt, expSt);
            ret = abs(ret);
            
			tempVal = calculateExp("-+", valSt, expSt);
			tempVal = abs(tempVal);
			ret = (ret > tempVal) ? ret : tempVal;
		}
		else if (checkExp[0] && checkExp[2]) {
			ret = calculateExp("+*", valSt, expSt);
            ret = abs(ret);
            
			tempVal = calculateExp("*+", valSt, expSt);
			tempVal = abs(tempVal);
			ret = (ret > tempVal) ? ret : tempVal;
		}
		else if (checkExp[1] && checkExp[2]) {
			ret = calculateExp("*-", valSt, expSt);
            ret = abs(ret);
            
			tempVal = calculateExp("-*", valSt, expSt);
			tempVal = abs(tempVal);
			ret = (ret > tempVal) ? ret : tempVal;
		}
	}
	else if (expCount == 3) {
		ret = calculateExp("+-*", valSt, expSt);
        ret = abs(ret);
        
		tempVal = calculateExp("+*-", valSt, expSt);
		tempVal = abs(tempVal);
		ret = (ret > tempVal) ? ret : tempVal;

		tempVal = calculateExp("-+*", valSt, expSt);
		tempVal = abs(tempVal);
		ret = (ret > tempVal) ? ret : tempVal;

		tempVal = calculateExp("-*+", valSt, expSt);
		tempVal = abs(tempVal);
		ret = (ret > tempVal) ? ret : tempVal;

		tempVal = calculateExp("*+-", valSt, expSt);
		tempVal = abs(tempVal);
		ret = (ret > tempVal) ? ret : tempVal;

		tempVal = calculateExp("*-+", valSt, expSt);
		tempVal = abs(tempVal);
		ret = (ret > tempVal) ? ret : tempVal;
	}

	return ret;
}

/*
	+ - x 3 가지

	+ > - > x
	+ > x > -
	- > + > x
	- > x > +
	x > - > +
	x > + > -
*/
```
